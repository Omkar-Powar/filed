<div class="container">
    <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()" novalidate>

        <div class="form-group">
            <label>Credit Card Number <span class="errorMessage">*</span></label>
            <input class="form-control" type="number" formControlName="cardNumber" placeholder="Enter Card Number" required
                [ngClass]="{ 'is-invalid': f.cardNumber.errors  && (f.cardNumber.dirty || f.cardNumber.touched)}">
            <div *ngIf="!f.cardNumber.valid && (f.cardNumber.dirty || f.cardNumber.touched)" class="invalid-feedback">
                <div *ngIf="f.cardNumber.errors" class="alert alert-danger">Invalid Card Number.</div>
            </div>
        </div>

        <div class="form-group">
            <label>Cardholder Name <span class="errorMessage">*</span></label>
            <input class="form-control" type="text" formControlName="nameOnCard" placeholder="Enter Cardholder Name" required
                [ngClass]="{ 'is-invalid': (f.nameOnCard.dirty || f.nameOnCard.touched) && f.nameOnCard.errors }">
            <div *ngIf="!f.nameOnCard.valid && (f.nameOnCard.dirty || f.nameOnCard.touched)" class="invalid-feedback">
                <div *ngIf="f.nameOnCard.errors" class="alert alert-danger">Invalid Cardholder Name.</div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label>Expiration Date <span class="errorMessage">*</span></label>
                    <input type="text" class="form-control" formControlName="expirationDate" placeholder="Expiration Date"
                        onkeydown="return false"
                        [bsConfig]="{containerClass: 'theme-dark-blue', minDate:today, maxDate:0, showWeekNumbers:false, dateInputFormat:'DD-MMM-YYYY'}"
                        bsDatepicker required
                        [ngClass]="{ 'is-invalid': !f.expirationDate.valid && (f.expirationDate.dirty || f.expirationDate.touched) }"/>
        
                    <div *ngIf="( !f.expirationDate.valid && (f.expirationDate.dirty || f.expirationDate.touched) )"
                        class="invalid-feedback">
                        <div *ngIf="f.expirationDate.errors" class="alert alert-danger">Invalid Date!</div>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="form-group">
                    <label>Security Code</label>
                    <input class="form-control" type="text" formControlName="cardCVVNumber" placeholder="Enter CVV"
                        [ngClass]="{ 'is-invalid': f.cardCVVNumber.errors && f.cardCVVNumber.dirty}">
                    <div *ngIf="!f.cardCVVNumber.valid && f.cardCVVNumber.dirty"
                        class="invalid-feedback">
                        <div *ngIf="f.cardCVVNumber.errors" class="alert alert-danger">Invalid CVV / CVC Number.</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label>Amount <span class="errorMessage">*</span></label>
                    <input class="form-control" type="number" formControlName="payAmount" placeholder="Enter Amount" required
                        [ngClass]="{ 'is-invalid': f.payAmount.errors && (f.payAmount.dirty || f.payAmount.touched) }">
                    <div *ngIf="!f.payAmount.valid && (f.payAmount.dirty || f.payAmount.touched)"
                        class="invalid-feedback">
                        <div *ngIf="f.payAmount.errors" class="alert alert-danger">Invalid Amount.</div>
                    </div>
                </div>        
            </div>
        </div>

        <div class="row">
            <!-- <div class="col-sm-3">
                <div class="form-group">
                    <button type="button" class="btn btn-primary"
                    (click)="onClear()">Clear Data</button>
                </div>
            </div> -->
            <div class="col-sm-3">
                <div class="form-group">
                    <button type="submit" class="btn btn-primary"
                    [disabled]="paymentForm.invalid">Submit</button>
                </div>
            </div>            
        </div>
        <h3 class="center-block text-center">{{displayMessage}}</h3>
    </form>
</div>